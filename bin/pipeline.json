{
  "profiler_config": {
    "enable_profile": false
  },

  "decoder": {
    "class_name": "cnstream::DataSource",
    "max_input_queue_size": 0, 
    "next_modules": ["InferencerYolo"],
    "custom_params": {
      "output_type": "cpu",
      "device_id": "-1",
      "interval": "1",
      "decoder_type": "cpu",
      "file_path": "test_image.png",
      "framerate": 5
    }
  },

  "InferencerYolo": {
    "class_name": "cnstream::Inferencer",
    "parallelism": 2,
    "max_input_queue_size": 20,
    "next_modules": ["InferencerClass"],
    "custom_params": {
      "func_name": "subnet0",
      "model_name": "yolov5_cable_detection",
      "model_version": "v20250820",
      "device_id": "0",
      "batching_timeout": "300",
      "ip": "127.0.0.1",
      "port": "8000",
      "batchsize": "4",
      "preproc_name": "CambrianYolov5Preproc",
      "postproc_name": "TrtCudaYolov5Postproc",
      "width": "640",
      "height": "640",
      "input_offset": "4915200",
      "output_offset": "5600",
      "custom_preproc_params": {
        "path": "yolov5_cable_detection_pre.json"
      },

      "custom_postproc_params": {
        "path": "yolov5_cable_detection.json"
      }
    }
  },
  "InferencerClass": {
    "class_name": "cnstream::Inferencer",
    "parallelism": 2,
    "max_input_queue_size": 20,
    "next_modules": [
        "sort_h"
    ],
    "custom_params": {
        "object_infer": "true",
        "func_name": "subnet0",
        "model_name": "resnet_tongxie",
        "model_version": "v20250909",
        "device_id": "0",
        "batching_timeout": "300",
        "ip": "127.0.0.1",
        "port": "8000",
        "batchsize": "1",
        "preproc_name": "ResnetTongxieObjPreproc",
        "postproc_name": "CambrianTZHTClassifyObjPostproc",
        "width": "64",
        "height": "64",
        "input_offset": "49152",
        "output_offset": "8",
        "obj_filter_name": "modelstream::ObjFilter_obj",
        "f_model_name": "yolov5_cable_detection",
        "f_obj_id": "#20!"
    }
  },
  "sort_h": {
    "class_name": "modelstream::Calculation_sort_cable",
    "parallelism": 2,
    "max_input_queue_size": 20,
    "next_modules": ["osd"],
    "custom_params": {
      "ip": "127.0.0.1",
      "port": "8000",
      "max_cosine_distance_": "0.3",
      "max_iou_distance_": "0.8",
      "max_age_": "20",
      "n_init_": "0",
      "nn_budget_": "1",
      "obj_filter_name": "modelstream::ObjFilter_obj",
      "f_model_name": "yolov5_cable_detection",
      "f_obj_id": "#0!1!2!3!4!5!6!7!8!10!11!12!13!14!15!16!17!18!19!20!"
    }
  },
  "osd": {
    "class_name": "modelstream::ModelDisplay",
    "parallelism": 10,
    "max_input_queue_size": 20,
    "custom_params": {}
  }
}
